<!DOCTYPE HTML>
<head>
	<meta charset="utf-8">
	<title>Sine Wave Visualisation: First Attempt</title>
	<link href="https://fonts.googleapis.com/css?family=Aleo:300&display=swap" rel="stylesheet">
	<style>body {font-family: 'Aleo', serif;} h1 {text-align: center;}h3 {text-align: center;}}</style>
</head>
<body>
	<h1>SVG Animated by JavaScript</h1>
	<h3>by Kevin Higgins, building on material from <a href="http://www.petercollingridge.co.uk/tutorials/svg/interactive/javascript/">Peter Collingridge</a></h3>
	<section>
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" width="500" height="500" id="inline-svg">
			<line x1="10" y1="250" x2="490" y2="250" stroke="black" stroke-width="1" id="animated-line"/>
		</svg>
	</section>
</body>
<script type="text/javascript">
	var line = document.getElementById('inline-svg').getElementById('animated-line');
	var baseY = (parseInt(line.getAttributeNS(null, 'y1')) + parseInt(line.getAttributeNS(null, 'y2'))) / 2;	//get starting y coord of center of line
	var scale = 250;
	var timeDivisor = 1000;
	function updateLineCoords () {
		line.setAttributeNS(null, 'y1', baseY + Math.sin(new Date() / timeDivisor) * scale);
		line.setAttributeNS(null, 'y2', baseY + Math.sin(new Date() / timeDivisor) * scale);
	}

	//console.log(svgObject);
	/*Linear bounce variable declarations
	var lineHeightDisplacement = 0;
	var lineHeightDifference = .5;
	var baseY = (parseInt(line.getAttributeNS(null, 'y1')) + parseInt(line.getAttributeNS(null, 'y2'))) / 2;	//get starting y coord of center of line
	//console.log(line.getAttributeNS(null, 'y1') + line.getAttributeNS(null, 'y2'));
	//console.log((line.getAttributeNS(null, 'y1') + line.getAttributeNS(null, 'y2')) / 2);
	console.log (baseY);
	*/
	/*
	//Linear bounce
	function updateLineCoords () {
		lineHeightDisplacement += lineHeightDifference;	//do movement for this frame
		if (lineHeightDisplacement > 360 | lineHeightDisplacement < 0) {	//if out of range
			lineHeightDifference = 0 - lineHeightDifference;			//invert (bounce) direction of movement
			console.log(lineHeightDifference);
			console.log(lineHeightDisplacement);
		}
		line.setAttributeNS(null, 'y1', baseY + lineHeightDisplacement);
		line.setAttributeNS(null, 'y2', baseY + lineHeightDisplacement);
		console.log(line.getAttributeNS(null, 'y1'));
		console.log(lineHeightDisplacement);
	}
	*/
	setInterval(updateLineCoords, 10);
</script>